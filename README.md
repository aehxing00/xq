# 中国象棋 AI (单文件版)

这是一个基于 HTML5/JS 的轻量级中国象棋程序，集成了极简的 Minimax AI 引擎。项目已优化合并为单文件 (`index.html`)，方便分发和离线运行。

## ✨ 主要特性

*   **单文件架构**: 所有的 HTML、CSS 和 JavaScript 逻辑均整合在 `index.html` 中，无需依赖外部资源，无需服务器，双击即玩。
*   **智能 AI 引擎**:
    *   **核心算法**: 采用 **Alpha-Beta 剪枝** 结合 **迭代加深 (Iterative Deepening)** 搜索策略。
    *   **性能优化**: 实现 **增量式 Zobrist Hashing** 和 **置换表 (Transposition Table)**，大幅提升搜索效率（10-20倍速提升）。
    *   **稳定性**: 引入 **静态搜索 (Quiescence Search)** 解决水平线效应，有效避免 AI 在激烈对攻中出现短视误判。
    *   **评估系统**: 内置 **位置估值表 (Piece-Square Tables)**，让 AI 懂得开局布阵和子力位置价值。
*   **现代化 UI**:
    *   纯 CSS3 实现的拟物化立体棋子，质感细腻。
    *   SVG 绘制的高清矢量木纹棋盘，任意缩放不失真。
    *   完全 **响应式设计**，完美适配 PC、平板和手机屏幕。
    *   平滑的棋子移动动画和交互反馈。
*   **完整游戏功能**:
    *   支持无限步 **悔棋**。
    *   可实时调节 **AI 难度** (搜索深度 1-6 层)。
    *   严格符合中国象棋标准行棋规则（包括蹩马腿、塞象眼、将帅照面、禁止送将等）。

## 🚀 快速开始

1.  找到项目目录下的 [index.html](index.html) 文件。
2.  直接使用 Chrome、Edge、Firefox 或 Safari 等现代浏览器打开该文件即可运行。
3.  选择难度（默认为深度 2），执红先行。

## 🛠️ 技术实现细节

*   **数据结构**: 使用一维数组 (Size 90) 模拟 9x10 棋盘，配合预计算的查找表，兼顾内存与计算效率。
*   **走法生成**: 实现了基于规则的伪合法走法生成器，包含完整的特殊规则检测（如马腿、象眼）。
*   **搜索优化**:
    *   **MVV-LVA 排序**: 在搜索树中优先遍历“最有价值受害者”被“最小价值攻击者”吃掉的走法，极大提高剪枝率。
    *   **增量哈希**: 走棋/撤销时仅通过 XOR 操作更新 Hash 值，避免全盘重算，显著降低 CPU 消耗。
    *   **超时截断**: 动态监控搜索时间，防止 AI 在复杂局面下长考卡死。

## 📝 版本历史

*   **v2.0 (Current)**
    *   重构为单 HTML 文件结构。
    *   AI 升级：加入静态搜索、增量哈希、超时控制。
    *   UI 升级：3D 棋子样式、移动端适配优化、移除冗余文字记录。
*   **v1.0**
    *   初始版本，基础功能实现。

---
*Powered by Trae AI*
